#!/bin/bash

TTYDM_CONFIG=~/.config/ttydm
TTYDM_SCRIPTS=$TTYDM_CONFIG/scripts

HEIGHT=15
WIDTH=40
CHOICE_HEIGHT=4
TITLE="TTY Display Manager"
MENU="Select a desktop environment:"

OPTIONS=(1 "i3"
         2 "GNOME"
         3 "KDE")

CHOICE=$(dialog --clear \
                --title "$TITLE" \
                --menu "$MENU" \
                $HEIGHT $WIDTH $CHOICE_HEIGHT \
                "${OPTIONS[@]}" \
                2>&1 >/dev/tty)

clear
case $CHOICE in
     1)
          XINIT_SCRIPT=$TTYDM_SCRIPTS/i3 startx
          ;;
     2)
          XINIT_SCRIPT=$TTYDM_SCRIPTS/gnome startx
          ;;
     3)
          XINIT_SCRIPT=$TTYDM_SCRIPTS/kde startx
          ;;
esac
