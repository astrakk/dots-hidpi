#!/usr/bin/env bash

TTYDM_CONFIG=~/.config/ttydm
TTYDM_SCRIPTS=$TTYDM_CONFIG/scripts
TTYDM_DIALOGRC=$TTYDM_CONFIG/dialogrc

HEIGHT=10
WIDTH=40
CHOICE_HEIGHT=4
TITLE="TTY Display Manager"
MENU="Select a desktop environment:"

OPTIONS=(1 "i3"
         2 "GNOME")

CHOICE=$(DIALOGRC=$TTYDM_DIALOGRC dialog --clear \
                --title "$TITLE" \
                --menu "$MENU" \
                $HEIGHT $WIDTH $CHOICE_HEIGHT \
                "${OPTIONS[@]}" \
                2>&1 >/dev/tty)

clear
case $CHOICE in
     1)
          XINIT_SCRIPT=$TTYDM_SCRIPTS/i3 startx
          ;;
     2)
          XINIT_SCRIPT=$TTYDM_SCRIPTS/gnome startx
          ;;
esac
